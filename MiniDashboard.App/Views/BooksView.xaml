<UserControl x:Class="MiniDashboard.App.Views.BooksView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
	<UserControl.Resources>
		<BooleanToVisibilityConverter x:Key="BoolToVis" />
	</UserControl.Resources>

	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto" />
			<RowDefinition Height="*" />
		</Grid.RowDefinitions>

		<StackPanel Orientation="Horizontal" Margin="0 0 0 10">
			<Button Content="New Book" Command="{Binding OpenCreateDialogCommand}" />
			<Button Content="Refresh" Margin="10 0 0 0" Command="{Binding LoadBooksCommand}" />
		</StackPanel>

		<DataGrid Grid.Row="1"
				ItemsSource="{Binding Books}"
				AutoGenerateColumns="True" />

		<Border Background="#80000000"
						Visibility="{Binding IsDialogOpen, Converter={StaticResource BoolToVis}}"
						Grid.RowSpan="2"
						Padding="20"
						CornerRadius="4">
			<Grid HorizontalAlignment="Center"
						VerticalAlignment="Center"
						Width="400"
						Background="White">
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto" />
					<RowDefinition Height="Auto" />
					<RowDefinition Height="Auto" />
					<RowDefinition Height="Auto" />
					<RowDefinition Height="Auto" />
					<RowDefinition Height="Auto" />
					<RowDefinition Height="Auto" />
					<RowDefinition Height="Auto" />
				</Grid.RowDefinitions>

				<TextBlock Text="Create Book"
									 FontSize="18"
									 Margin="10" />

				<StackPanel Grid.Row="1" Margin="10">
					<TextBlock Text="Title"/>
					<TextBox Text="{Binding Title, UpdateSourceTrigger=PropertyChanged}" />
				</StackPanel>
				<StackPanel Grid.Row="2" Margin="10">
					<TextBlock Text="SubTitle"/>
					<TextBox Text="{Binding SubTitle, UpdateSourceTrigger=PropertyChanged}" />
				</StackPanel>
				<StackPanel Grid.Row="3" Margin="10">
					<TextBlock Text="Series"/>
					<TextBox Text="{Binding Series, UpdateSourceTrigger=PropertyChanged}"  />
				</StackPanel>
				<StackPanel Grid.Row="4" Margin="10">
					<TextBlock Text="Series Number"/>
					<TextBox Text="{Binding SeriesNumber, UpdateSourceTrigger=PropertyChanged}" />
				</StackPanel>
				<StackPanel Grid.Row="5" Margin="10">
					<TextBlock Text="Authors"/>
					<TextBox Text="{Binding Authors, UpdateSourceTrigger=PropertyChanged}" />
				</StackPanel>
				<StackPanel Grid.Row="6" Margin="10">
					<TextBlock Text="Genres"/>
					<TextBox Text="{Binding Genres, UpdateSourceTrigger=PropertyChanged}" />
				</StackPanel>
				<StackPanel Grid.Row="7"
										Margin="20"
										Orientation="Horizontal"
										HorizontalAlignment="Right">
					<Button Content="Cancel"
									Margin="10"
									Command="{Binding CancelDialogCommand}" />
                    <Button Content="Save"
                            Margin="10"
                            Command="{Binding CreateBookCommand}" />
                </StackPanel>
			</Grid>
		</Border>
	</Grid>
</UserControl>